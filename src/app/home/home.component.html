<mat-card class="header-bar">
  <app-header></app-header>
</mat-card>


<div *ngFor="let prod of allPost, let i=index" class="post-box" >
  <!-- <div *ngFor="let post of prod.post"> -->
  <!-- <div *ngIf="prod.email == User.email" ></div> -->

    <mat-card class="example-card" >
        <mat-card-header class="header">
          <img mat-card-avatar  ngxGravatar  src="{{prod.profileImg}}">
          <mat-card-title class="title">{{prod.username}}</mat-card-title>
      
          <button mat-icon-button (click)="moreOption()" class="dots">
            <mat-icon >more_horiz</mat-icon>
          </button>
       
        </mat-card-header>
   
        <img mat-card-image  [src]="prod.post?.[0]">
            <!-- <img mat-card-image  [src]="post" alt="Photo of a Shiba Inu"> -->
        
        <!-- <mat-card-content>
          
        </mat-card-content> -->
    
        <mat-divider inset></mat-divider>
    
      <mat-card-actions>
        <button mat-icon-button >
            
          <mat-icon class="glyphicon" [class.highlighted]="getFavourite(prod.id)" (click)="onClick(i,prod.id)">favorite</mat-icon> </button>
          <button mat-icon-button  (click)="commentOption(i)">
            <mat-icon class=".material-symbols-rounded">comment</mat-icon> </button>
            <button mat-icon-button (click)="shareOption()" class="near-me" >
              <mat-icon >near_me</mat-icon> </button>
        
        <button mat-icon-button class="bookmark">
          <mat-icon  [class.highlighted]="getBookmark(prod.id)" (click)="onClick1(i,prod.id)">bookmark</mat-icon> </button>
          <div  *ngIf="prod.likes>0"  class="likes">{{prod.likes}} Likes</div>
      </mat-card-actions>
    <!-- </mat-card>
    </div> -->
  </mat-card>
    
    
 
    <div class="image-video-wrp" *ngIf="prod.videos">
      <mat-card class="example-card" >
      <mat-card-header class="header">
        <img mat-card-avatar  ngxGravatar  src="{{prod.profileImg}}">
        <mat-card-title class="title">{{prod.username}}</mat-card-title>
    
        <button mat-icon-button (click)="moreOption()" class="dots">
          <mat-icon >more_horiz</mat-icon>
        </button>
     
      </mat-card-header>  

      <figure>
          <!-- <ng-container *ngIf="videodisabled"> -->
              <img  *ngIf="videodisabled" src="./assets/video-poster.png" class="img-fluid thumblin">
          <!-- </ng-container> -->
          <div *ngIf="!videodisabled" >
              <iframe width="430px" height="581px" [src]="transform(prod.videos[0])" ></iframe>
          </div>
          <div class="play-icon-box ">
              <img (click)="changeImg()" [title]="play" [src]="videoIcon" alt="">
          </div>
        </figure>

        <mat-divider inset></mat-divider>
    
      <mat-card-actions>
        <button mat-icon-button >
            
          <mat-icon class="glyphicon" [class.highlighted]="getFavourite(prod.id)" (click)="onClick(i,prod.id)">favorite</mat-icon> </button>
          <button mat-icon-button  (click)="commentOption(i)">
            <mat-icon class=".material-symbols-rounded">comment</mat-icon> </button>
            <button mat-icon-button (click)="shareOption()" class="near-me" >
              <mat-icon >near_me</mat-icon> </button>
        
        <button mat-icon-button class="bookmark">
          <mat-icon  [class.highlighted]="getBookmark(prod.id)" (click)="onClick1(i,prod.id)">bookmark</mat-icon> </button>
          <div  *ngIf="prod.likes>0"  class="likes">{{prod.likes}} Likes</div>
      </mat-card-actions>


   
  </mat-card>
</div>
</div>

    
    
  <!-- </div> -->
    <!-- </div> -->
    <!-- <div class="image-video-wrp">
      <figure>
          <ng-container *ngIf="videodisabled; else videoblock">
              <img src="./assets/images/video-poster.jpg" class="img-fluid thumblin">
          </ng-container>
          <ng-template #videoblock>
              <iframe width="100%" height="100%" src="https://www.youtube.com/embed/QYU8zydUqD8?autoplay=1&mute=1&controls=0" allowfullscreen></iframe>
          </ng-template>
          <div class="play-icon-box ">
              <img (click)="changeImg()" [title]="play" [src]="videoIcon" alt="">
          </div>
      </figure>
  </div> -->

 
  <!-- <div *ngFor="let comment of prod?.comments, let j=index" >
    <mat-card class="example-card">
        <mat-card-header class="header">
            <img mat-card-avatar  ngxGravatar  src="{{comment.profileImg}}">
            <mat-card-title class="title">{{comment.name}}</mat-card-title>
        </mat-card-header>
    </mat-card>
  </div>

          </div> -->
    
